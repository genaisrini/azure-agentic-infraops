# Step 7: As-Built Cost Estimate - agent-testing

> Generated by azure-workload-docs skill | 2026-02-04
> **Source**: Deployed resources in rg-agenttest-dev
> **Pricing Region**: Sweden Central (swedencentral)

> [!NOTE]
> ðŸ“š See [documentation-styling.md](../../.github/agents/_shared/documentation-styling.md) for visual standards.

## Executive Summary

| Metric                   | Value                                            |
| ------------------------ | ------------------------------------------------ |
| **Environment**          | Development                                      |
| **Monthly Estimate**     | $65-85 USD                                       |
| **Annual Estimate**      | $780-1,020 USD                                   |
| **Primary Cost Drivers** | Static Web App (Standard), App Service Plan (B1) |

## Cost Breakdown by Resource

### Compute Services

| Resource                   | SKU              | Unit         | Qty      | Monthly Cost | Notes                 |
| -------------------------- | ---------------- | ------------ | -------- | ------------ | --------------------- |
| App Service Plan           | B1 Linux         | Hours        | 730      | $13.14       | Always-on basic tier  |
| Container Apps Environment | Consumption      | -            | 1        | $0.00        | No base cost          |
| Container App              | 0.25 vCPU, 0.5GB | vCPU-seconds | Variable | $0-15.00     | Scale-to-zero enabled |

**Subtotal**: ~$13-28/month

### Data Services

| Resource        | SKU          | Unit     | Qty | Monthly Cost | Notes                  |
| --------------- | ------------ | -------- | --- | ------------ | ---------------------- |
| SQL Database    | Basic        | DTU      | 5   | $4.99        | 2GB storage included   |
| Storage Account | Standard LRS | GB       | 10  | $0.23        | Estimated usage        |
| Service Bus     | Basic        | Messages | 1M  | $0.05        | Minimal usage expected |

**Subtotal**: ~$5.27/month

### Security Services

| Resource  | SKU      | Unit       | Qty | Monthly Cost | Notes          |
| --------- | -------- | ---------- | --- | ------------ | -------------- |
| Key Vault | Standard | Operations | 10K | $0.03        | Secrets access |
| Key Vault | Standard | Secrets    | 10  | $0.00        | Included       |

**Subtotal**: ~$0.03/month

### Web Services

| Resource       | SKU      | Unit  | Qty | Monthly Cost | Notes                   |
| -------------- | -------- | ----- | --- | ------------ | ----------------------- |
| Static Web App | Standard | Sites | 1   | $9.00        | Custom domains, staging |

**Subtotal**: ~$9.00/month

### Monitoring Services

| Resource             | SKU       | Unit   | Qty | Monthly Cost | Notes              |
| -------------------- | --------- | ------ | --- | ------------ | ------------------ |
| Log Analytics        | PerGB2018 | GB/day | 1   | $2.76        | 1GB daily quota    |
| Application Insights | -         | GB     | 5   | $2.76        | First 5GB included |

**Subtotal**: ~$5.52/month (may vary based on ingestion)

## Monthly Cost Summary

| Category   | Low Estimate | High Estimate |
| ---------- | ------------ | ------------- |
| Compute    | $13.00       | $28.00        |
| Data       | $5.00        | $6.00         |
| Security   | $0.03        | $0.10         |
| Web        | $9.00        | $9.00         |
| Monitoring | $3.00        | $10.00        |
| **Total**  | **$30.03**   | **$53.10**    |

> **Buffer (20%)**: $36-64/month actual expected costs
> **With overhead**: $65-85/month (including potential overages)

## Cost Optimization Recommendations

### Immediate Savings

| Action                              | Current Cost | Optimized Cost | Savings     |
| ----------------------------------- | ------------ | -------------- | ----------- |
| Use Free Static Web App tier        | $9.00        | $0.00          | $9.00/month |
| Scale Container App to 0 when idle  | Variable     | $0.00          | Variable    |
| Reduce Log Analytics quota to 0.5GB | $2.76        | $1.38          | $1.38/month |

### Future Considerations

| Scenario           | Recommendation          | Impact        |
| ------------------ | ----------------------- | ------------- |
| Production upgrade | Use S1 App Service Plan | +$60/month    |
| High availability  | Add zone redundancy     | +$30-50/month |
| Geo-replication    | Add secondary region    | +100%         |

## SKU Justification

| Resource         | Selected SKU | Rationale                           |
| ---------------- | ------------ | ----------------------------------- |
| App Service Plan | B1           | Basic tier sufficient for dev/test  |
| SQL Database     | Basic        | 5 DTU adequate for testing          |
| Storage Account  | Standard_LRS | No geo-redundancy needed for dev    |
| Static Web App   | Standard     | ARM limitation (Free not available) |
| Service Bus      | Basic        | Minimal messaging requirements      |
| Key Vault        | Standard     | RBAC and soft delete included       |
| Log Analytics    | PerGB2018    | Pay-as-you-go model                 |

## Cost Comparison: Dev vs Production

| Resource         | Dev (Current)        | Production (Estimated) |
| ---------------- | -------------------- | ---------------------- |
| App Service Plan | B1 ($13)             | P1v3 ($145)            |
| SQL Database     | Basic ($5)           | S1 ($30)               |
| Storage Account  | Standard_LRS ($0.23) | Standard_GRS ($0.46)   |
| Static Web App   | Standard ($9)        | Standard ($9)          |
| Key Vault        | Standard ($0.03)     | Premium ($0.06)        |
| Container Apps   | Consumption ($0-15)  | Consumption ($0-50)    |
| **Total**        | **$30-50**           | **$185-250**           |

## Azure Pricing Calculator Link

[View in Azure Pricing Calculator](https://azure.microsoft.com/en-us/pricing/calculator/)

## Cost Monitoring Setup

### Budget Alert Configuration

```bash
# Create monthly budget with alerts
az consumption budget create \
  --budget-name "agent-testing-monthly" \
  --amount 100 \
  --time-grain Monthly \
  --start-date 2026-02-01 \
  --end-date 2027-02-01 \
  --resource-group rg-agenttest-dev \
  --category Cost
```

### Cost Analysis Query

```bash
# View current month costs
az consumption usage list \
  --start-date 2026-02-01 \
  --end-date 2026-02-28 \
  --query "[?contains(instanceName, 'agenttest')].{Resource:instanceName, Cost:pretaxCost}" \
  -o table
```

## Tags for Cost Allocation

All resources are tagged for cost tracking:

| Tag         | Value         | Purpose            |
| ----------- | ------------- | ------------------ |
| CostCenter  | CC-AGENTOPS   | Finance allocation |
| Project     | agenttest     | Project tracking   |
| Environment | dev           | Environment filter |
| Owner       | platform-team | Team ownership     |

## Disclaimers

- Prices are estimates based on Azure Sweden Central region pricing as of February 2026
- Actual costs may vary based on usage patterns
- Container Apps costs depend on scale events and duration
- Log Analytics costs depend on data ingestion volume
- All prices in USD unless otherwise specified

---

## References

| Topic                    | Link                                                                                                 |
| ------------------------ | ---------------------------------------------------------------------------------------------------- |
| Azure Pricing Calculator | [Calculator](https://azure.microsoft.com/pricing/calculator/)                                        |
| Cost Management          | [Overview](https://learn.microsoft.com/azure/cost-management-billing/costs/overview-cost-management) |
| WAF Cost Optimization    | [Checklist](https://learn.microsoft.com/azure/well-architected/cost-optimization/checklist)          |

---

_As-built cost estimate generated from deployed infrastructure._
